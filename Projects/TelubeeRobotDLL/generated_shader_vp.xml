<Program Type="Vertex">
	<Dependents>
		<Dependent>shadow</Dependent>
		<Dependent>math</Dependent>
		<Dependent>operators</Dependent>
	</Dependents>
	<Uniforms>
		<Variable Const="0" Index="0" Name="weight" Semantic="Unkown" Type="sampler1D" Usage="Normal">Weight of the vertex</Variable>
	</Uniforms>
	<Function Name="Main" Type="MainVertex">
		<Inputs>
			<Variable Const="0" Index="0" Name="Pos" Semantic="Position" Type="float4" Usage="Input"/>
			<Variable Const="0" Index="0" Name="normal" Semantic="Normal" Type="float3" Usage="Input"/>
			<Variable Const="0" Index="0" Name="texCoord" Semantic="Texcoord" Type="float2" Usage="Input"/>
			<Variable Const="0" Index="0" Name="WorldMat" Semantic="Unkown" Type="float4x4" Usage="Uniform"/>
			<Variable Const="0" Index="0" Name="WorldViewProjMat" Semantic="Unkown" Type="float4x4" Usage="Uniform"/>
			<Variable Const="0" Index="0" Name="LightViewProj" Semantic="Unkown" Type="float4x4" Usage="Uniform"/>
		</Inputs>
		<Outputs>
			<Variable Const="0" Index="0" Name="oPos" Semantic="Position" Type="float4" Usage="Output"/>
			<Variable Const="0" Index="0" Name="oTexCoord" Semantic="Texcoord" Type="float2" Usage="Output"/>
			<Variable Const="0" Index="1" Name="oNormal" Semantic="Texcoord" Type="float3" Usage="Output"/>
			<Variable Const="0" Index="2" Name="viewDir" Semantic="Texcoord" Type="float3" Usage="Output"/>
			<Variable Const="0" Index="3" Name="lightPos" Semantic="Texcoord" Type="float4" Usage="Output"/>
		</Outputs>
		<Variables>
			<Variable Const="0" Index="0" Name="worldPos" Semantic="Unkown" Type="float4" Usage="Normal">World position of the vertex</Variable>
		</Variables>
		<Statements>
			<Operation Type="Assign">
				<Inputs>
					<FunctionCall Name="mul">
						<Inputs>
							<Variable Const="0" Index="0" Name="WorldViewProjMat" Semantic="Unkown" Type="float4x4" Usage="Uniform"/>
							<Variable Const="0" Index="0" Name="Pos" Semantic="Position" Type="float4" Usage="Input"/>
						</Inputs>
					</FunctionCall>
				</Inputs>
				<Outputs>
					<Variable Const="0" Index="0" Name="worldPos" Semantic="Unkown" Type="float4" Usage="Normal">World position of the vertex</Variable>
				</Outputs>
			</Operation>
			<Operation Type="Assign">
				<Inputs>
					<Variable Const="0" Index="0" Name="LightViewProj" Semantic="Unkown" Type="float4x4" Usage="Uniform"/>
				</Inputs>
				<Outputs>
					<Variable Const="0" Index="0" Name="worldPos" Semantic="Unkown" Type="float4" Usage="Normal">World position of the vertex</Variable>
				</Outputs>
			</Operation>
			<FunctionCall Name="diffuse">
				<Inputs>
					<Variable Const="0" Index="0" Name="normal" Semantic="Normal" Type="float3" Usage="Input"/>
					<Variable Const="0" Index="0" Name="Pos" Semantic="Position" Type="float4" Usage="Input"/>
				</Inputs>
			</FunctionCall>
		</Statements>
	</Function>
	<ReturnValue>
		<Value Type="float4">
			<DirectValue Type="float" Value="0"/>
			<DirectValue Type="float" Value="0"/>
			<DirectValue Type="float" Value="1"/>
			<DirectValue Type="float" Value="1"/>
		</Value>
	</ReturnValue>
</Program>